<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualisasi Rancangan Sistem Servis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa; 
        }
        .flow-node {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
            padding: 1rem;
            text-align: center;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        .flow-node:hover {
            transform: translateY(-4px);
        }
        .arrow-down {
            content: '';
            display: block;
            width: 0;
            height: 30px;
            margin: 0 auto;
            border-left: 2px dashed #4b5563;
        }
        .arrow-right {
            width: 30px;
            height: 0;
            margin: 0 10px;
            border-bottom: 2px dashed #4b5563;
            position: relative;
        }
        .arrow-right::after {
            content: ' ';
            position: absolute;
            top: -5px;
            right: -5px;
            width: 10px;
            height: 10px;
            border-top: 2px solid #4b5563;
            border-right: 2px solid #4b5563;
            transform: rotate(45deg);
        }
        .node-label {
            position: absolute;
            top: -20px;
            font-size: 0.75rem;
            color: #6b7280;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="p-8 md:p-12">

    <div class="max-w-6xl mx-auto">
        
        <h1 class="text-4xl font-bold text-gray-800 mb-10 text-center border-b-4 border-indigo-500 pb-3">Visualisasi Rancangan Sistem Servis Transparan (MVP)</h1>

        <!-- SECTION 1: DATABASE STRUCTURE -->
        <section class="mb-16">
            <h2 class="text-2xl font-semibold text-indigo-700 mb-6">1. Struktur Data (Model NoSQL) </h2>
            <p class="text-gray-600 mb-6">
                Struktur ini menggunakan satu koleksi utama (`accounts`) yang menyimpan riwayat servis (`riwayatServis`) sebagai array, ideal untuk NoSQL Database. Detail perbaikan (`repairDetails`) adalah objek bersarang (nested object) yang mencakup saran harga AI.
            </p>

            <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-pink-500">
                <div class="font-mono text-xl text-pink-700 font-bold mb-4">COLLECTION: accounts</div>

                <!-- Document Level -->
                <div class="ml-4 p-4 bg-gray-50 border border-gray-200 rounded-lg">
                    <div class="font-mono text-lg text-gray-800 font-semibold mb-2">DOCUMENT: UMKM-ID-001 (Akun Teknisi)</div>

                    <!-- Simple Fields -->
                    <ul class="ml-4 space-y-1 text-sm text-gray-700 font-mono">
                        <li><span class="text-blue-600">accountId</span>: "UMKM-ID-001"</li>
                        <li><span class="text-blue-600">namaUMKM</span>: "Servis Maju Jaya"</li>
                        <li>...</li>
                    </ul>

                    <!-- Array of Servis Reports -->
                    <div class="mt-4 p-4 bg-white border border-gray-300 rounded-lg shadow-inner">
                        <div class="font-mono text-base text-gray-800 font-bold mb-3 border-b pb-1">FIELD: riwayatServis <span class="text-red-500">[Array]</span></div>
                        
                        <!-- Service Report Object -->
                        <div class="ml-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded-md">
                            <div class="font-mono text-sm text-blue-700 font-bold mb-2">OBJECT: ServiceReport (1 Transaksi Servis)</div>

                            <!-- Tahap 1: Initial Check-in -->
                            <ul class="ml-4 space-y-1 text-xs text-gray-600 font-mono">
                                <li class="font-semibold text-blue-800">TAHAP 1: INPUT AWAL</li>
                                <li><span class="text-green-600">serviceId</span>: "SR-00123"</li>
                                <li><span class="text-green-600">customerName</span>: "Budi S."</li>
                                <li><span class="text-green-600">initialComplaint</span>: "Layar retak"</li>
                                <li><span class="text-green-600">initialPhotoUrl</span>: "URL_Awal.jpg"</li>
                                <li>... (deviceModel, checkInDate)</li>
                            </ul>

                            <!-- Tahap 2: Diagnosis and Repair -->
                            <div class="mt-3">
                                <ul class="ml-4 space-y-1 text-xs text-gray-600 font-mono">
                                    <li class="font-semibold text-indigo-800">TAHAP 2: ANALISIS & PERBAIKAN</li>
                                    <li><span class="text-purple-600">diagnosedDamages</span>: <span class="text-red-500">[Array of String]</span></li>
                                    <li><span class="text-purple-600">finalPhotoUrl</span>: "URL_Akhir.jpg"</li>
                                    <li><span class="text-purple-600">repairDescription</span>: "IC power diganti baru..."</li>
                                </ul>
                            </div>
                            
                            <!-- repairDetails - NESTED ARRAY STRUCTURE -->
                            <div class="mt-3 ml-4 p-3 bg-white border border-gray-400 rounded-md">
                                <div class="font-semibold text-sm text-orange-700 mb-2">FIELD: repairDetails <span class="text-red-500">[Array of Objects]</span></div>
                                <div class="ml-4 space-y-2">
                                    <div class="text-xs text-gray-700 font-mono border-b pb-1">OBJECT: Item Biaya ke-1 (Suku Cadang)</div>
                                    <ul class="ml-4 space-y-1 text-xs text-gray-600 font-mono">
                                        <li><span class="text-orange-600">itemName</span>: "Baterai Original iPhone X"</li>
                                        <li><span class="text-orange-600">itemType</span>: "Sparepart"</li>
                                        <li><span class="text-orange-600">cost</span>: 200000</li>
                                        <li><span class="text-orange-600">aiPriceSuggestion</span>: 210000 <span class="text-xs text-gray-500">(Dari DB Historis)</span></li>
                                    </ul>
                                    <div class="text-xs text-gray-700 font-mono border-b pb-1">OBJECT: Item Biaya ke-2 (Jasa)</div>
                                    <ul class="ml-4 space-y-1 text-xs text-gray-600 font-mono">
                                        <li><span class="text-orange-600">itemName</span>: "Biaya Jasa Ganti LCD"</li>
                                        <li><span class="text-orange-600">itemType</span>: "ServiceFee"</li>
                                        <li><span class="text-orange-600">cost</span>: 100000</li>
                                    </ul>
                                </div>
                            </div>
                            <!-- END repairDetails -->

                            <!-- Tahap 3: Final Report -->
                            <div class="mt-3">
                                <ul class="ml-4 space-y-1 text-xs text-gray-600 font-mono">
                                    <li class="font-semibold text-cyan-800">TAHAP 3: HASIL (OUTPUT)</li>
                                    <li><span class="text-cyan-600">finalStatus</span>: "Completed"</li>
                                    <li><span class="text-cyan-600">totalBill</span>: 300000</li>
                                    <li><span class="text-cyan-600">warrantyDurationDays</span>: 30</li>
                                    <li><span class="text-cyan-600">warrantyEndDate</span>: Timestamp</li>
                                </ul>
                            </div>
                        </div> 
                        
                        <!-- Repeat Object -->
                        <div class="ml-4 mt-3 text-xs text-gray-400">... object ServiceReport berikutnya ...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: PROCESS FLOW / ACTIVITY DIAGRAM -->
        <section class="mb-16">
            <h2 class="text-2xl font-semibold text-indigo-700 mb-6">2. Alur Proses Aplikasi (3 Tahap MVP)</h2>
            <p class="text-gray-600 mb-8">
                Visualisasi ini menunjukkan peran Teknisi dan Sistem pada setiap tahapan, berfokus pada fitur inti yang telah disepakati.
            </p>

            <!-- Flowchart Container -->
            <div class="grid grid-cols-1 gap-6 md:grid-cols-3 md:gap-4 lg:gap-8 justify-center items-start">

                <!-- TAHAP 1 -->
                <div class="flex flex-col items-center">
                    <div class="flow-node bg-green-200 border-green-600 text-green-800 w-full">
                        <span class="font-bold text-xl">TAHAP 1: INPUT AWAL</span>
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-white border-green-500 text-gray-700 w-full text-sm">
                        Input Data Pelanggan & Keluhan
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-white border-green-500 text-gray-700 w-full text-sm">
                        Ambil & Unggah Foto Awal (Kondisi Fisik)
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-green-100 border-green-600 text-green-800 w-full text-sm font-semibold">
                        Sistem Generate serviceId & Simpan Draft
                    </div>
                </div>
                
                <!-- TAHAP 2 -->
                <div class="flex flex-col items-center">
                    <div class="flow-node bg-indigo-200 border-indigo-600 text-indigo-800 w-full">
                        <span class="font-bold text-xl">TAHAP 2: ANALISIS & PERBAIKAN</span>
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-white border-indigo-500 text-gray-700 w-full text-sm">
                        Diagnosa Kerusakan (diagnosedDamages)
                    </div>
                    <div class="arrow-down">
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-white border-indigo-500 text-gray-700 w-full text-sm">
                        Input Rincian Biaya (repairDetails) & Solusi Akhir
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-white border-indigo-500 text-gray-700 w-full text-sm">
                        Ambil & Unggah Foto Akhir (Bukti Perbaikan)
                    </div>
                </div>

                <!-- TAHAP 3 -->
                <div class="flex flex-col items-center">
                    <div class="flow-node bg-cyan-200 border-cyan-600 text-cyan-800 w-full">
                        <span class="font-bold text-xl">TAHAP 3: PELAPORAN (OUTPUT)</span>
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-cyan-100 border-cyan-500 text-cyan-700 w-full text-sm font-semibold">
                        Sistem Hitung Total Biaya & Tanggal Garansi
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-cyan-50 border-cyan-500 text-cyan-700 w-full text-sm">
                        Sistem Generate Laporan PDF Transparan (Include Foto)
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-cyan-500 border-cyan-600 text-white w-full text-sm font-bold">
                        Laporan Siap Dibagikan ke Pelanggan
                    </div>
                    <div class="arrow-down"></div>
                    <div class="flow-node bg-gray-200 border-gray-400 text-gray-700 w-full text-sm">
                        Servis Selesai & Data Tersimpan di DB
                    </div>
                </div>

            </div>
        </section>

        <footer class="mt-12 text-center text-sm text-gray-500 border-t pt-4">
            Rancangan ini fokus pada Minimum Viable Product (MVP) untuk mencapai transparansi maksimal bagi UMKM jasa perbaikan.
        </footer>

    </div>
</body>
</html>